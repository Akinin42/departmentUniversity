<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
    crossorigin="anonymous">
    <script src="https://use.fontawesome.com/fec1def459.js"></script>

    <title th:text="#{label.addlesson}"></title>
</head>
<body>
    <div class="container">

            <form class="" th:action="@{/timetables}" th:object="${lesson}" method="post">
                <div class="form-group">
                    <label for="groupName" class="cols-sm-2 control-label" th:text="#{label.groupname}"></label>
                    <select id="groupname" th:field="*{groupName}" class="form-select" aria-label="Default select example">
                    <option  th:each="group : ${groups}" th:value="${group.name}" th:text="${group.name}" ></option>
                    </select>        
                </div>                
                <div class="form-group">
                    <label for="teacherName" class="cols-sm-2 control-label" th:text="#{label.teacher}"></label>                    
                            <select id="teachername" th:field="*{teacherEmail}" class="form-select" aria-label="Default select example">
                                <option  th:each="teacher : ${teachers}" th:value="${teacher.email}" th:text="${teacher.name}" ></option>
                            </select>             
                </div>
                <div class="form-group">
                    <label for="courseName" class="cols-sm-2 control-label" th:text="#{label.coursename}"></label>
                            <select id="coursename" th:field="*{courseName}" class="form-select" aria-label="Default select example">
                                <option  th:each="course : ${courses}" th:value="${course.name}" th:text="${course.name}" ></option>
                            </select>
                </div>
                <div class="form-group">
                    <label for="classroomNumber" class="cols-sm-2 control-label" th:text="#{label.classroomnumber}"></label>
                            <select id="classroom" th:field="*{classroomNumber}" class="form-select" aria-label="Default select example">
                                <option  th:each="classroom : ${classrooms}" th:value="${classroom.number}" th:text="${classroom.number}" ></option>
                            </select>
                </div>                
                    <label for="startLesson" class="cols-sm-2 control-label" th:text="#{label.startlesson}"></label>
                            <input  class="form-control" type="datetime-local" th:value="${startLesson}" name="startLesson"  id="startLesson" />
                            <div style="color:red" th:if="${message=='invalid date'}" th:text="#{label.inputemptydate}"></div>
                    <label for="Endlesson" class="cols-sm-2 control-label" th:text="#{label.endlesson}"></label>
                            <input class="form-control" type="datetime-local"  th:value="${endLesson}" name="endLesson"  id="endLesson" />
                            <div style="color:red" th:if="${message=='invalid date'}" th:text="#{label.inputemptydate}"></div>
                    <label for="onlineLesson" class="cols-sm-2 control-label" th:text="#{label.onlinelesson}"></label>    
                            <input type="radio" name="onlineLesson" th:value="true">                                   
                            <input type="hidden" name="onlineLesson" th:value="false">                            
                                                     
                    <div class="form-group">
                            <label for="lessonLink" class="cols-sm-2 control-label" th:text="#{label.lessonlink}"></label>
                            <input class="form-control" type="text"  th:value="${lessonLink}" name="lessonLink"  id="lessonLink" />
                    </div>
                <div class="form-group">
                    <button type="submit" id="button" class="btn btn-primary btn-lg btn-block login-button" th:value="lesson" th:text="#{label.addlesson}"></button>
                </div>
                <div th:switch="${message}">                                        
                     <p th:case="'lessoncapacity'" th:text="#{label.lessoncapacity}"></p>                                       
                     <p th:case="'sunday'" th:text="#{label.sunday}"></p>                                       
                     <p th:case="'notworktime'" th:text="#{label.notworktime}"></p>                                       
                     <p th:case="'endearlierstart'" th:text="#{label.endearlierstart}"></p>
                     <p th:case="'onlinelink'" th:text="#{label.onlinelink}"></p>
                     <p th:case="'groupteacherbusy'" th:text="#{label.groupteacherbusy}"></p>
                     <p th:case="'classroombusy'" th:text="#{label.classroombusy}"></p>
                </div>
            </form>
    </div>
</body>
</html>